language: generic
sudo: enabled
os: linux

install:
  # For LaTeX
  - ". ./scripts/ensure_latex.sh"
  - "./scripts/ensure_book_dependencies.sh"

script:
- cd tex
- pdflatex dppy_paper.tex # --shell-escape option for minted pkg
- cd ..

deploy:
  skip_cleanup: true
  provider: releases
  api_key:
    secure: ####
  file: tex/dppy_paper.pdf
  on:
    repo: guilgautier/DPPy_paper
    tags: true
