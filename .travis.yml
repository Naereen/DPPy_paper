language: python

sudo: enabled

matrix:
  include:
  - os: linux
    python: 3.6

install:
  # For LaTeX
  - ". ./scripts/ensure_latex.sh"
  - "./scripts/ensure_book_dependencies.sh"
  # To use minted package, install pygments toolbox
  # - pip install --upgrade pip
  - python --version
  - pip install .

script:
- cd tex
- pdflatex --shell-escape dppy_paper.tex # --shell-escape option for minted pkg
- cd ..
deploy:
  skip_cleanup: true
  provider: releases
  api_key:
    secure: ####
  file: tex/dppy_paper.pdf
  on:
    repo: guilgautier/DPPy_paper
    tags: true
